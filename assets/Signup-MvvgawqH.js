import{c as q,B as H,H as I,j as t,q as e,t as r,x as d,L as M,G as b,I as D}from"./index-BRNuU9-M.js";import{c as J,A as c,d as N,L as O}from"./Layout-CKMMqHxP.js";import{M as z}from"./mail-BQZdqwPl.js";import{E as P}from"./eye-off-DrHXW-Jw.js";import{E as _}from"./eye-V5f9GD7V.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function V(){const w=H(),{user:k}=I(),[m,S]=t.useState(""),[u,F]=t.useState(""),[l,C]=t.useState(""),[h,E]=t.useState(""),[f,L]=t.useState(!1),[g,A]=t.useState(!1),[i,j]=t.useState(!1),[s,v]=t.useState({}),[p,o]=t.useState(null);if(k)return w("/"),null;const B=()=>{const a={};return m.trim()?m.trim().length<2&&(a.name="Name must be at least 2 characters"):a.name="Name is required",u.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(a.email="Please enter a valid email address"):a.email="Email is required",l.trim()?l.length<6&&(a.password="Password must be at least 6 characters"):a.password="Password is required",h.trim()?l!==h&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",v(a),Object.keys(a).length===0},U=async a=>{if(a.preventDefault(),!B()){b.error("Please correct the errors in the form");return}j(!0);try{const{data:n,error:y}=await D.auth.signUp({email:u,password:l,options:{data:{name:m.trim()}}});if(y)throw y;b.success("Account created!",{description:"Please check your email to verify your account.",duration:5e3}),w("/login")}catch(n){console.error("Signup error:",n),b.error("Signup failed",{description:n.message||"Unable to create account. Please try again.",duration:5e3})}finally{j(!1)}},x=(a,n)=>{a==="name"&&S(n),a==="email"&&F(n),a==="password"&&C(n),a==="confirmPassword"&&E(n),s[a]&&v(y=>({...y,[a]:void 0}))};return e.jsxs(J,{children:[e.jsxs("section",{className:"relative pt-32 pb-20 md:pt-40 md:pb-28 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-primary/5"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(139,30,63,0.1),transparent_50%)]"}),e.jsxs("div",{className:"container-main text-center relative z-10",children:[e.jsx(r.span,{className:"text-primary text-xs uppercase tracking-[0.2em] mb-4 block font-medium",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:"Join Us"}),e.jsx(r.h1,{className:"font-serif text-4xl md:text-5xl lg:text-6xl mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:"Create Account"}),e.jsx(r.p,{className:"text-muted-foreground text-lg md:text-xl max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:"Sign up to start shopping for premium watches and boots."})]})]}),e.jsx("section",{className:"py-16 md:py-24 relative",children:e.jsx("div",{className:"container-main max-w-md mx-auto",children:e.jsxs(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-card border border-border rounded-3xl p-8 md:p-10 shadow-[0_0_40px_rgba(139,30,63,0.05)]",children:[e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium",children:["Full Name ",e.jsx("span",{className:"text-primary",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(r.input,{type:"text",id:"name",value:m,onChange:a=>x("name",a.target.value),onFocus:()=>o("name"),onBlur:()=>o(null),className:d("w-full pl-12 pr-4 py-3.5 bg-background border-2 rounded-xl","text-foreground placeholder:text-muted-foreground","focus:outline-none transition-all duration-200",p==="name"?"border-primary ring-2 ring-primary/20 shadow-[0_0_20px_rgba(139,30,63,0.15)]":"border-border hover:border-primary/50",s.name&&"border-destructive ring-2 ring-destructive/20"),placeholder:"John Doe",disabled:i,whileFocus:{scale:1.01}}),e.jsx(c,{children:s.name&&e.jsx(r.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xs text-destructive mt-1.5",children:s.name})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium",children:["Email Address ",e.jsx("span",{className:"text-primary",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(r.input,{type:"email",id:"email",value:u,onChange:a=>x("email",a.target.value),onFocus:()=>o("email"),onBlur:()=>o(null),className:d("w-full pl-12 pr-4 py-3.5 bg-background border-2 rounded-xl","text-foreground placeholder:text-muted-foreground","focus:outline-none transition-all duration-200",p==="email"?"border-primary ring-2 ring-primary/20 shadow-[0_0_20px_rgba(139,30,63,0.15)]":"border-border hover:border-primary/50",s.email&&"border-destructive ring-2 ring-destructive/20"),placeholder:"your@email.com",disabled:i,whileFocus:{scale:1.01}}),e.jsx(c,{children:s.email&&e.jsx(r.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xs text-destructive mt-1.5",children:s.email})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium",children:["Password ",e.jsx("span",{className:"text-primary",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(r.input,{type:f?"text":"password",id:"password",value:l,onChange:a=>x("password",a.target.value),onFocus:()=>o("password"),onBlur:()=>o(null),className:d("w-full pl-12 pr-12 py-3.5 bg-background border-2 rounded-xl","text-foreground placeholder:text-muted-foreground","focus:outline-none transition-all duration-200",p==="password"?"border-primary ring-2 ring-primary/20 shadow-[0_0_20px_rgba(139,30,63,0.15)]":"border-border hover:border-primary/50",s.password&&"border-destructive ring-2 ring-destructive/20"),placeholder:"Enter your password",disabled:i,whileFocus:{scale:1.01}}),e.jsx("button",{type:"button",onClick:()=>L(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-primary transition-colors",children:f?e.jsx(P,{className:"w-5 h-5"}):e.jsx(_,{className:"w-5 h-5"})}),e.jsx(c,{children:s.password&&e.jsx(r.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xs text-destructive mt-1.5",children:s.password})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium",children:["Confirm Password ",e.jsx("span",{className:"text-primary",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(r.input,{type:g?"text":"password",id:"confirmPassword",value:h,onChange:a=>x("confirmPassword",a.target.value),onFocus:()=>o("confirmPassword"),onBlur:()=>o(null),className:d("w-full pl-12 pr-12 py-3.5 bg-background border-2 rounded-xl","text-foreground placeholder:text-muted-foreground","focus:outline-none transition-all duration-200",p==="confirmPassword"?"border-primary ring-2 ring-primary/20 shadow-[0_0_20px_rgba(139,30,63,0.15)]":"border-border hover:border-primary/50",s.confirmPassword&&"border-destructive ring-2 ring-destructive/20"),placeholder:"Confirm your password",disabled:i,whileFocus:{scale:1.01}}),e.jsx("button",{type:"button",onClick:()=>A(!g),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-primary transition-colors",children:g?e.jsx(P,{className:"w-5 h-5"}):e.jsx(_,{className:"w-5 h-5"})}),e.jsx(c,{children:s.confirmPassword&&e.jsx(r.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xs text-destructive mt-1.5",children:s.confirmPassword})})]})]}),e.jsx(r.button,{type:"submit",disabled:i,className:d("w-full py-4 rounded-xl font-medium flex items-center justify-center gap-3","bg-primary text-primary-foreground","hover:shadow-[0_0_30px_rgba(139,30,63,0.4)]","transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"),whileHover:i?{}:{scale:1.02},whileTap:i?{}:{scale:.98},children:e.jsx(c,{mode:"wait",children:i?e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-3",children:[e.jsx(O,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Creating account..."})]},"loading"):e.jsx(r.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:"Create Account"},"default")})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Already have an account?"," ",e.jsx(M,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})})]})})})]})}export{V as default};
