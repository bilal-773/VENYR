import{j as o,z as b,q as e,x as g,X as j}from"./index-BRNuU9-M.js";import{c as p,L as N}from"./Layout-CKMMqHxP.js";import{P as v}from"./ProductCard-D3NZs6jO.js";import{F as y,P as f}from"./ProductFilters-ClIthl2i.js";import"./chevron-down-DdtT82J8.js";function E(){const[x,m]=o.useState(!1),[n,h]=o.useState("featured"),[t,u]=o.useState({priceRange:null,sizes:[],colors:[]}),{data:i=[],isLoading:c,error:l}=b("shoes");o.useEffect(()=>{c||(console.log("[SHOES PAGE] Products loaded:",i.length),console.log("[SHOES PAGE] Products data:",i),l&&console.error("[SHOES PAGE] Error:",l))},[i,c,l]);const d=o.useMemo(()=>{if(!i.length)return[];let s=[...i];switch(t.priceRange&&(s=s.filter(r=>r.price>=t.priceRange[0]&&r.price<=t.priceRange[1])),t.sizes.length>0&&(s=s.filter(r=>r.sizes.some(a=>t.sizes.includes(a)))),t.colors.length>0&&(s=s.filter(r=>r.colors.some(a=>t.colors.includes(a)))),n){case"price-asc":s.sort((r,a)=>r.price-a.price);break;case"price-desc":s.sort((r,a)=>a.price-r.price);break;case"newest":s.reverse();break;case"featured":default:s.sort((r,a)=>(a.featured?1:0)-(r.featured?1:0));break}return s},[t,n,i]);return c?e.jsx(p,{children:e.jsxs("div",{className:"container-main py-32 text-center",children:[e.jsx(N,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading shoes..."})]})}):e.jsxs(p,{children:[e.jsx("section",{className:"bg-hero-gradient pt-32 pb-16 md:pt-40 md:pb-24",children:e.jsxs("div",{className:"container-main text-center",children:[e.jsx("span",{className:"text-muted-foreground text-xs uppercase tracking-[0.2em] mb-4 block opacity-0 animate-fade-up",children:"Collection"}),e.jsx("h1",{className:"section-title opacity-0 animate-fade-up stagger-1",children:"Chelsea Boots"}),e.jsx("p",{className:"section-subtitle mt-4 max-w-xl mx-auto opacity-0 animate-fade-up stagger-2",children:"Handcrafted leather boots designed for timeless style."})]})}),e.jsx("section",{className:"py-12 md:py-16",children:e.jsx("div",{className:"container-main",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-[260px_1fr] lg:gap-16",children:[e.jsxs("div",{className:"lg:hidden flex items-center justify-between mb-8",children:[e.jsxs("p",{className:"text-muted-foreground text-sm",children:[d.length," products"]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 border-2 border-border hover:border-primary rounded-xl transition-all duration-300 hover:bg-primary/5",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Filters"})]})]}),e.jsxs("div",{className:g("fixed inset-0 z-50 lg:hidden transition-all duration-500",x?"opacity-100 visible":"opacity-0 invisible"),children:[e.jsx("div",{className:"absolute inset-0 bg-foreground/30 backdrop-blur-sm",onClick:()=>m(!1)}),e.jsx("div",{className:g("absolute left-0 top-0 bottom-0 w-80 bg-background shadow-xl transition-transform duration-500 ease-elegant overflow-y-auto",x?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"font-serif text-xl",children:"Filters"}),e.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-full hover:bg-primary/10 hover:text-primary transition-all duration-300",children:e.jsx(j,{className:"w-5 h-5"})})]}),e.jsx(f,{category:"shoes",currentFilters:t,currentSort:n,onFilterChange:u,onSortChange:h})]})})]}),e.jsx("aside",{className:"hidden lg:block",children:e.jsx("div",{className:"sticky top-28",children:e.jsx(f,{category:"shoes",currentFilters:t,currentSort:n,onFilterChange:u,onSortChange:h})})}),e.jsxs("div",{children:[e.jsx("div",{className:"hidden lg:flex items-center justify-between mb-8",children:e.jsxs("p",{className:"text-muted-foreground text-sm",children:[d.length," products"]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-5 md:gap-8",children:d.map((s,r)=>e.jsx(v,{product:s,index:r},s.id))}),d.length===0&&!c&&e.jsx("div",{className:"text-center py-20",children:i.length===0?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-muted-foreground mb-2 text-lg",children:"No shoes found in database."}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Check browser console for debugging info."}),l&&e.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 mb-4 max-w-md mx-auto",children:e.jsxs("p",{className:"text-destructive text-sm",children:["Error: ",l.message||"Failed to load products"]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No products match your filters."}),e.jsx("button",{onClick:()=>u({priceRange:null,sizes:[],colors:[]}),className:"btn-secondary",children:"Clear Filters"})]})})]})]})})})]})}export{E as default};
